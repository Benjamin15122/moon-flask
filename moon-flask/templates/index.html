{% extends 'base.html' %}
{% block page_path %}
<li><a href="{{ url_for('index') }}">Home</a></li>
<li class="active">Home Page</li>
{% endblock %}
{% block content %}
<div class="row no-gutter fullwidth"><!-- row -->
    <div class="col-lg-12 clearfix"><!-- featured posts slider -->
        <div id="carousel-featured" class="carousel slide" data-interval="4000" data-ride="carousel"><!-- featured posts slider wrapper; auto-slide -->
            <ol class="carousel-indicators"><!-- Indicators -->
                <li data-target="#carousel-featured" data-slide-to="0" class="active"></li>
                <li data-target="#carousel-featured" data-slide-to="1"></li>
                <li data-target="#carousel-featured" data-slide-to="2"></li>
            </ol><!-- Indicators end -->
            <div class="carousel-inner"><!-- Wrapper for slides -->
                <div class="item active">
                    <img src="{{ url_for('static', filename='img/slide-5.jpg') }}" alt="Institute of Computer Software" />
                    <div class="k-carousel-caption pos-c-2-3 scheme-dark no-bg">
                        <div class="caption-content">
                            <h3 class="caption-title title-giant">Institute of Computer Software</h3>
                            <p>
                                Founded in 1984. Advancing software technology in China.
                            </p>
                            <p>
                                <a href="/about" class="btn btn-sm btn-danger" title="Button">READ MORE</a>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="item ">
                    <img src="{{ url_for('static', filename='img/slide-2.jpg') }}" alt="Professor Jiafu Xu" />
                    <div class="k-carousel-caption pos-2-3-right scheme-dark">
                        <div class="caption-content">
                            <h3 class="caption-title">Professor Jiafu Xu, Founding Director</h3>
                            <p>
                                Pioneering researcher and educatior of software technolgoy in China. 
                            </p><p>
                                CCF Liftime Achievement Award Winner. 
                               <!--中国计算机软件学先驱，中国计算机科学奠基人之一，南京大学教授。-->
                            </p>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <img src="{{ url_for('static', filename='img/slide-1.jpg') }}" alt="Professor Jian Lü" />
                    <div class="k-carousel-caption pos-2-3-left scheme-dark">
                        <div class="caption-content">
                            <h3 class="caption-title">Professor Jian Lü, Vice President of Nanjing University</h3>
                            <p>
                            Director of the State Key Laboratory of Novel Software Technology at Nanjing University
                            <!--博士生导师，计算机软件新技术国家重点实验室主任。2013年当选中国科学院院士。-->
                            </p>
                        </div>
                    </div>
                </div>
            </div><!-- Wrapper for slides end -->
            <!-- Controls -->
            <a class="left carousel-control" href="#carousel-featured" data-slide="prev"><i class="fa fa-chevron-left"></i></a>
            <a class="right carousel-control" href="#carousel-featured" data-slide="next"><i class="fa fa-chevron-right"></i></a>
            <!-- Controls end -->
        </div><!-- featured posts slider wrapper end -->
    </div><!-- featured posts slider end -->
</div><!-- row end -->
<div class="row no-gutter"><!-- row -->
    <div class="col-lg-4 col-md-4"><!-- upcoming events wrapper -->
        <div class="col-padded col-shaded"><!-- inner custom column -->
            <ul class="list-unstyled clear-margins"><!-- widgets -->
                <li class="widget-container widget_up_events"><!-- widgets list -->
                    <h1 class="title-widget">Upcoming Events</h1>
                    <ul class="list-unstyled">
                         <!-- the most close deadline -->

                         <!-- -->
                         {% if phd|first %}
                         <li class="up-event-wrap">
                         <h1 class="title-median"><a href="{{ url_for('events', path='phd') }}" title="{{ phd[0].speaker }}">PhD Seminar: {{ phd[0].speaker }}</a></h1>
                             <div class="up-event-meta clearfix">
                                 <div class="up-event-date">{{ phd[0].date | to_date }}</div><div class="up-event-time">{{ phd[0].date | to_time }}</div>
                             </div>
                         </li>
                         {% endif %}
                         {% if master|first %}
                         <li class="up-event-wrap">
                         <h1 class="title-median"><a href="{{ url_for('events', path='master') }}" title="{{ master[0].speaker }}">Master Seminar: {{ master[0].speaker }}</a></h1>
                             <div class="up-event-meta clearfix">
                                 <div class="up-event-date">{{ master[0].date | to_date }}</div><div class="up-event-time">{{ master[0].date | to_time }}</div>
                             </div>
                         </li>
                         {% endif %}
                         {% for e in events %}
                            {% if loop.index <= 3 %}
                                <li class="up-event-wrap">
                                <h1 class="title-median"><a href="{{ e.url }}" title="{{ e.title }}">{{ e.title }}</a></h1>
                                    <div class="up-event-meta clearfix">
                                        <div class="up-event-date">{{ e.date | to_date }}</div><div class="up-event-time">{{ e.date | to_time }} {% if e.end %} - {{ e.end | to_time}} {% endif %}</div>
                                    </div>
                                    <p>
                                        {{ e.summary|truncate(100)|safe}}
                                        <!--<a href="{{ e.events }}" class="moretag" title="read more">MORE</a>-->
                                    </p>
                                </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </li><!-- widgets list end -->
                {% if deadlines | first %}
                <li class="widget-container widget_up_events" style="margin-top: 10px"><!-- widgets list -->
                    <h1 class="title-widget">Deadlines</h1>
                    <ul class="list-unstyled">
                          {% for e in deadlines %}
                            {% if loop.index <= 3 %}
                         <li class="">
                         <h1 class="title-median"><a href="{{ url_for('events', path='deadlines') }}" title="{{ e.label}}">DEADLINE: {{ e.label }}</a></h1>
                             <div class="up-event-meta clearfix">
                                 <div class="up-event-date">{{ e.date | to_date }}</div>
                             </div>
                         </li>
                         {% endif %}
                         {% endfor %}
                    </ul>
                </li><!-- widgets list end -->
                {% endif %}
             </ul><!-- widgets end -->
        </div><!-- inner custom column end -->
    </div><!-- upcoming events wrapper end -->
    <div class="col-lg-4 col-md-4"><!-- recent news wrapper -->
        <div class="col-padded"><!-- inner custom column -->
            <ul class="list-unstyled clear-margins"><!-- widgets -->
                <li class="widget-container widget_recent_news"><!-- widgets list -->
                    <h1 class="title-widget">News</h1>
                    <ul class="list-unstyled">
                        {% for n in news %}
                            {% if loop.index <= 3 %}
                                <li class="recent-news-wrap">
                                <h1 class="title-median"><a href="{{ url_for('news_page', path=n.path) }}" title="{{n.title}}">{{ n.title }}</a></h1>
                                    <div class="recent-news-meta">
                                        <div class="recent-news-date">{{ n.date | to_date }}</div>
                                    </div>
                                    <div class="recent-news-content clearfix">
                                        {% if n.img_path %}
                                        <figure class="recent-news-thumb">
                                            <a href="{{ url_for('news_page', path=n.path) }}" title="{{ n.img_title }}"><img src="{{url_for('static', filename=n.img_path)}}" class="attachment-thumbnail wp-post-image" alt="Thumbnail 1" /></a>
                                        </figure>
                                        <div class="recent-news-text">
                                            <p>{{ n.summary|truncate(100)|safe }}</p>
                                        </div>
                                        {% else %}
                                        <div class="recent-news-text" style="margin-left:0px">
                                            <!-- no image, show more words use 200 -->
                                            <p>{{ n.summary|truncate(300)|safe }}</p>
                                        </div>
                                        {% endif %}
                                    </div>
                                </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                    <div class="recent-news-wrap" style="text-align:right">
                       <a href="{{ url_for('news') }}" class="moretag" title="read more">more</a>
                    <div>
                </li><!-- widgets list end -->
            </ul><!-- widgets end -->
        </div><!-- inner custom column end -->
    </div><!-- recent news wrapper end -->
    <div class="col-lg-4 col-md-4"><!-- misc wrapper -->
        <div class="col-padded col-shaded"><!-- inner custom column -->
            <ul class="list-unstyled clear-margins"><!-- widgets -->
                <li class="widget-container widget_nav_menu"><!-- widget -->
                    <h1 class="title-widget">Recent Papers</h1>
                    <ul class="list-unstyled">
                        {% for n in g.site.paper_news %}
                            {% if loop.index <= 3 %}
                                <li style="text-transform: none">{{ n.title }}</li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                    <div class="recent-news-wrap" style="text-align:right">
                       <a href="{{ url_for('short_news', path='papers') }}" class="moretag" title="read more">more</a>
                    <div>
                </li><!-- widget end -->
                <li class="widget-container widget_nav_menu" style="margin-top: 10px"><!-- widget -->
                    <h1 class="title-widget">Awards</h1>
                    <ul class="list-unstyled">
                        {% for n in g.site.award_news %}
                            {% if loop.index <= 3 %}
                                <li style="text-transform: none">{{ n.title }}</li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                    <div class="recent-news-wrap" style="text-align:right">
                       <a href="{{ url_for('short_news', path='awards') }}" class="moretag" title="read more">more</a>
                    <div>
                </li><!-- widget end -->
                 <li class="widget-container widget_nav_menu" style="margin-top: 10px"><!-- widget -->
                    <h1 class="title-widget">Scholarships</h1>
                    <ul class="list-unstyled">
                        {%-for n in g.site.scholarship_news-%}
                            {%-if loop.index <= 3-%}
                                <li style="text-transform: none">{{ n.title }}</li>
                            {%-endif-%}
                        {%-endfor-%}
                    </ul>
                    <div class="recent-news-wrap" style="text-align:right">
                       <a href="{{ url_for('short_news', path='scholarships') }}" class="moretag" title="read more">more</a>
                    <div>
                </li><!-- widget end -->
            </ul><!-- widgets end -->
        </div><!-- inner custom column end -->
    </div><!-- misc wrapper end -->
</div><!-- row end -->
{% endblock %}
