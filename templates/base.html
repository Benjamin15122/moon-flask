{% import 'menu_render.html' as menu %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title%}{% endblock %} Institute of Computer Software</title>
    <!-- Styles -->
    <link href="{{ url_for('static', filename='font-awesome/css/font-awesome.min.css') }}" rel="stylesheet" type="text/css"><!-- font-awesome -->
    <link href="{{ url_for('static', filename='js/dropdown-menu/dropdown-menu.css') }}" rel="stylesheet" type="text/css"><!-- dropdown-menu -->
    <link href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}" rel="stylesheet" type="text/css"><!-- Bootstrap -->
    <link href="{{ url_for('static', filename='js/fancybox/jquery.fancybox.css') }}" rel="stylesheet" type="text/css"><!-- Fancybox -->
    <link href="{{ url_for('static', filename='js/audioplayer/audioplayer.css') }}" rel="stylesheet" type="text/css"><!-- Audioplayer -->
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" type="text/css"><!-- theme styles -->
    <link href="{{ url_for('static', filename='css/bibtex.css') }}" rel="stylesheet" type="text/css"><!-- bibtex styles -->
    <link href="{{ url_for('static', filename='css/pygments.css') }}" rel="stylesheet" type="text/css"><!-- pygments, copied from Shengwei An -->
    <link href="{{ url_for('static', filename='css/moon.css') }}" rel="stylesheet" type="text/css"><!-- moon overridden styles -->

    {% block customcss %}{% endblock %}

  </head>
  <body role="document">
    <!-- device test, don't remove. javascript needed! -->
    <span class="visible-xs"></span><span class="visible-sm"></span><span class="visible-md"></span><span class="visible-lg"></span>
    <!-- device test end -->
    <div id="k-head" class="container"><!-- container + head wrapper -->
        <div class="row"><!-- row -->
            <!-- functional navig -->
            <!--
            <nav class="k-functional-navig">
                <ul class="list-inline pull-right">
                    <li><a href="#">English</a></li>
                    <li><a href="#">简体中文</a></li>
                </ul>
            </nav>]
            -->
            <!-- functional navig end -->
            <div class="col-lg-12">
                <div id="k-site-logo" class="pull-left" style="padding:5pt;"><!-- site logo -->
                    <h1 class="k-logo">
                        <a href="{{ url_for('page') }}" title="首页">
                            <img src="{{ url_for('static', filename='img/ICS_LOGO_left.png') }}" width="170" alt="Site Logo" class="img-responsive" />
                        </a>
                    </h1>
                    <a id="mobile-nav-switch" href="#drop-down-left"><span class="alter-menu-icon"></span></a><!-- alternative menu button -->
                </div><!-- site logo end -->
                <div id="k-site-logo" class="hidden-xs hidden-sm hidden-md" style="padding:5pt;float:right!important;"><!-- site logo -->
                    <h1 class="k-logo">
                        <a href="{{ url_for('page') }}" title="首页">
                            <img src="{{ url_for('static', filename='img/ICS_LOGO_right.png') }}" width="170" alt="Site Logo" class="img-responsive" />
                        </a>
                    </h1>
                </div><!-- site logo end -->
                {{ menu.render_menu() }}
            </div>
        </div><!-- row end -->
    </div><!-- container + head wrapper end -->
    {% block body %}
    <div id="k-body"><!-- content wrapper -->
        <div class="container"><!-- container -->
        <div class="row"><!-- row -->
            <div id="k-top-search" class="col-lg-12 clearfix"><!-- top search -->
                <form action="http://www.google.com/search" id="top-searchform" method="get" role="search">
                    <div class="input-group">
                        <input type="text" name="q" id="sitesearch" class="form-control" autocomplete="off" placeholder="Type in keyword(s) then hit Enter on keyboard" />
                    </div>
                    <input type="hidden"  name="sitesearch" value="moon.nju.edu.cn" />
                </form>
                <div id="bt-toggle-search" class="search-icon text-center"><i class="s-open fa fa-search"></i><i class="s-close fa fa-times"></i></div><!-- toggle search button -->
            </div><!-- top search end -->
            {% block breadcrumbs %}
            <div class="k-breadcrumbs col-lg-12 clearfix"><!-- breadcrumbs -->
                <ol class="breadcrumb">
                    {{ render_parent_breadcrumb()|safe }}
                {% block page_path %}{% endblock %}
                </ol>
            </div><!-- breadcrumbs end -->
            {% endblock %}
        </div><!-- row end -->
        {% block innerbody %}
        <div class="row no-gutter fullwidth"><!-- row -->
            <div class="col-lg-12 col-md-12"><!-- doc body wrapper -->
                <div class="col-padded"><!-- inner custom column -->
                   {% block content %}{% endblock %}
                </div><!-- inner custom column end -->
            </div><!-- doc body wrapper end -->
        </div><!-- row end -->
        {% endblock %}
        </div><!-- container end -->
    </div><!-- content wrapper end -->
    {% endblock %}
    {% block footer %}
    {% endblock %}
    {% block subfooter %}
    <div id="k-subfooter"><!-- subfooter -->
        <div class="container"><!-- container -->
            <div class="row"><!-- row -->
                <div class="col-lg-12">
                    <p class="copy-text text-inverse">
                    &copy; 2019 Institute of Computer Software, Nanjing University. All rights reserved.
                    </p>
                </div>
            </div><!-- row end -->
        </div><!-- container end -->
    </div><!-- subfooter end -->
    {% endblock %}
    <!-- jQuery -->
    <script src="{{ url_for('static', filename='jQuery/jquery-2.1.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='jQuery/jquery-migrate-1.2.1.min.js') }}"></script>
    <!-- Bootstrap -->
    <script src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>
    <!-- Drop-down -->
    <script src="{{ url_for('static', filename='js/dropdown-menu/dropdown-menu.js') }}"></script>
    <!-- Fancybox -->
    <script src="{{ url_for('static', filename='js/fancybox/jquery.fancybox.pack.js') }}"></script>
    <script src="{{ url_for('static', filename='js/fancybox/jquery.fancybox-media.js') }}"></script><!-- Fancybox media -->
    <!-- Responsive videos -->
    <script src="{{ url_for('static', filename='js/jquery.fitvids.js') }}"></script>
    <!-- Audio player -->
    <script src="{{ url_for('static', filename='js/audioplayer/audioplayer.min.js') }}"></script>
    <!-- Pie charts -->
    <script src="{{ url_for('static', filename='js/jquery.easy-pie-chart.js') }}"></script>
    <!-- Theme -->
    <script src="{{ url_for('static', filename='js/theme.js') }}"></script>

    {% if g.bundle.js %}
        {% for js in g.bundle.js %}
    <script src="{{ js }}"></script>
        {% endfor %}
    {% endif %}

    {% if g.bundle.code %}
        {% for code in g.bundle.code %}
    <script>{{ code|safe }}</script>
        {% endfor %}
    {% endif %}

    {% block customjs %}{% endblock %}
  </body>
</html>
